<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Title</title>
    <style>
        body {
            background-image: url('img/backg.jpg');
            background-attachment: fixed;
            background-repeat: no-repeat;
            background-size:cover

        }
    </style>


    <script src="https://www.gstatic.com/firebasejs/5.9.2/firebase.js"></script>
    <script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyDL_GXI1T0dLbkqt0CyOWmaDjsI7IYETyc",
            authDomain: "final-assignment-4aac7.firebaseapp.com",
            databaseURL: "https://final-assignment-4aac7.firebaseio.com",
            projectId: "final-assignment-4aac7",
            storageBucket: "final-assignment-4aac7.appspot.com",
            messagingSenderId: "880796316577"
        };
        firebase.initializeApp(config);
    </script>
    <script src ="js/js.js"></script>
    <link rel="stylesheet" href="css/css.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>

<body>



<nav class="navbar navbar-dark bg-dark navbar-expand-lg fixed-top">
    <div class = "container ">


        <a href="#" class="navbar-brand">MYWEBSITE</a>
        <button class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav mr-auto">

                <li class="nav-item active">
                    <a class="nav-link" href="INDEX.html">HOME <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="BIO.html">BIO</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        MY ProductS
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="Action.html">Action Figures</a>
                        <a class="dropdown-item" href="books.html">Books</a>
                        <a class="dropdown-item" href="stationary.html">Stationary</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a class="nav-link " href="membership.html" tabindex="-1" >Membership</a>
                </li>
            </ul>
            <ul class="navbar-nav ml-auto">

                    <li class="navbar-item active zoom" >
                        <a href="#" class="nav-link" data-toggle="modal"  data-target="#signin" >LOGIN</a>
                    </li>


                    <li class="navbar-item active zoom" >
                        <a href="#" class="nav-link" data-toggle="modal"  data-target="#adduser" >REGISTER</a>
                    </li>

                    <li class="navbar-item zoom">
                        <a href="#" class="nav-link" onclick="signOut()" >LOGOUT</a>
                    </li>


                    <li class="navbar-item zoom">
                        <a href="form.html" class="nav-link">FEEDBACK</a>
                    </li>


                    <li class="navbar-item zoom">
                        <a href="donation.html" class="nav-link">DONATIONS</a>
                    </li>




            </ul>

        </div>
    </div>

</nav>
<div class="modal fade" id="adduser">
    <div class="modal-dialog" >
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    ADD USER
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>

            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label >Email</label>
                        <input type="text" class="form-control" id="Email" placeholder="Email">

                    </div>
                    <div class="form-group">
                        <label >Password</label>
                        <input type="password" class="form-control" id="Password" placeholder="Password">
                    </div>

                </form>

            </div>
            <div class="modal-footer">

                <button type="button" class="btn btn-primary" onclick="adduser()" data-dismiss="modal">register</button>
            </div>
        </div>
    </div>

</div>

<div class="modal fade" id="signin">
    <div class="modal-dialog" >
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    Sign in
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>

            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label >Email</label>
                        <input type="text" class="form-control" id="signinEmail" placeholder="Email">

                    </div>
                    <div class="form-group">
                        <label >Password</label>
                        <input type="password" class="form-control" id="signinPassword" placeholder="Password">
                    </div>

                </form>

            </div>
            <div class="modal-footer">

                <button type="button" class="btn btn-primary" onclick="signIn()" data-dismiss="modal">Sign In</button>
            </div>
        </div>
    </div>

</div>

<div   class = "paddingtop container" >
    <div class = 'row'>


        <div class ='col-lg-12' style="background-color: rgba(255,255,255,0.89)">

            <div class = "container-fluid">
                <div class = "jumbotron">
                    <h1>  You can buy some of my Action figures</h1>




                </div>

            </div>
            <div class = "container-fluid">
                <div class="jumbotron">
                    <div class='row' id="products">

                    </div>
                </div>

            </div>

            <div class="jumbotron">

            </div>




        </div>
    </div>




</div>




<footer>

</footer>


<script>
    var productdisplay = document.getElementById('products');
    productdisplay.innerHTML = "Boo";
    var db = firebase.firestore();
    var count = 'nwe';
    var imgcount ='imgwe';
    var descount = 'dwe';
    var num = 'e';
    var y = 1
    var newimgcount = 'imgwe'

    db.collection("action").get().then((querySnapshot) => {

        productdisplay.innerHTML = "";

        querySnapshot.forEach((doc) => {
            var x =`
                 <div class="col-lg-4">
                    <div class="card" style="width: 18rem;">
                        <img src="..." class="card-img-top" alt="..." id="fbimg">
                        <div class="card-body">
                            <h5 class="card-title" id="title">Card title</h5>
                            <p class="card-text" id="des">Actinon Figure</p>
                            <a href="#" class="btn btn-primary">Purchase</a>
                        </div>
                    </div>
                    </div>
`;

            productdisplay.innerHTML += x;
            var title = document.getElementById('title');
            title.id = count;
            var holder = document.getElementById('fbimg');
            holder.id =  imgcount;
            var des = document.getElementById('des');
            des.id= descount;


            function getImageForPath(p){
                var storageRef = firebase.storage().ref();
                var spaceRef = storageRef.child(p);
                storageRef.child(p).getDownloadURL().then(function(url) {

                    var fullurl = url;
                    document.getElementById(newimgcount).src =fullurl;
                    newimgcount = newimgcount + num;




                }).catch(function(error) {
                    //catch error here
                });
            }

            getImageForPath(doc.data().imgurl);

            document.getElementById(count).innerHTML = (doc.data().price);

            imgcount += num;
            descount +=num;
            count += num;







        });
    });
</script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
</html>